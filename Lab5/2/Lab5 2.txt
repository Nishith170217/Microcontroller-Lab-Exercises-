#include <reg52.h>
#include <intrins.h>
char code str[] = "Welcome to Beijing \n\r";
void send_str();
main()
{
 TMOD = 0x20;   // ???1???8???????, ???????
 TH1 = 0xFD;    // ???9600
 TL1 = 0xFD;
 SCON = 0x50;   // ?????????
 PCON = 0x00;   
 TR1 = 1;    // ?????1
 IE = 0;    // ??????
 while(1)
 {
  send_str();    // ????"welcome!
 }
}
void send_str()
// ????
{
 unsigned char i = 0;
 while(str[i] != '\0')
 {
  SBUF = str[i];   //????
  while(!TI);    // ??????
  TI = 0;     // ????????
  i++;     // ?????
 } 
}